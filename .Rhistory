t.data.frame() %>%
cbind.data.frame(donation=label_col)
## compute variance norm
dgP_norms_var <- norms[, norms_columns] %>%
subset.data.frame(subset = social == 0) %>%
summarise_at(vars(DG_SN_1:DG_SN_11), var, na.rm=T) %>%
t.data.frame() %>%
cbind.data.frame(donation=label_col)
dgP_final_norms <- merge.data.frame(dgP_appropriateness_sum, dgP_norms_var, by = "donation") %>%
subset.data.frame(subset = ..x == max(..x)) %>%
mutate(PaperID = "2020Bas115",
TreatmentCode = "2a",
Avg_NE = as.integer(donation)/10,
Var_NE = ..y,
Strength_NE = sort(dgP_appropriateness_sum$., decreasing = T)[1]/sort(dgP_appropriateness_sum$., decreasing = T)[2]) %>%
subset.data.frame(select = -c(..x, ..y, donation))
# 3. combine dataset ----
finaldf <- meta_dataset %>%
merge.data.frame(dgP_dta_coop, by = c("PaperID","TreatmentCode")) %>%
merge.data.frame(dgP_final_norms, all.x=T, by = c("PaperID","TreatmentCode")) %>%
rbind.data.frame(finaldf)
# DG Tax Social-----------------
# get information on treatment
# cleaning DG
## code :  subject code
## give_DG_tax: amount of money given to other in dg tax game
## social : treatment variable -> 1. social, 0. private
coldg = c("code","give_DG_tax","social")
# 1. Choice dataframe ----
dgtS_dta_coop <- dg %>% subset.data.frame(select = coldg, subset = social == 1) %>%
mutate(endowment = 12, cooperation = give_DG_tax/endowment) %>%
summarise(Avg_coop = mean(cooperation, na.rm =T),
Var_coop = var(cooperation, na.rm = T)) %>%
mutate(PaperID = "2020Bas115", TreatmentCode = "1b")
# 2. Beliefs dataframe ----
## KW: send from 0 to 10, step 1
## code
## social
## KW scale: 1: VI; 2: I; 3: RI; 4: RA; 5: A; 6: VA -> recoding done.
label_col = as.character(seq(0,12,1.5))
norms_columns <- c(1,2,54:62)
## compute norm
dgtS_appropriateness_sum <- norms %>% subset.data.frame(select = norms_columns) %>%
subset.data.frame(subset = social == 1) %>%
summarise_at(vars(DGT_SN_1:DGT_SN_9), sum, na.rm=T) %>%
t.data.frame() %>%
cbind.data.frame(donation=label_col)
## compute variance norm
dgtS_norms_var <- norms[, norms_columns] %>%
subset.data.frame(subset = social == 1) %>%
summarise_at(vars(DGT_SN_1:DGT_SN_9), var, na.rm=T) %>%
t.data.frame() %>%
cbind.data.frame(donation=label_col)
dgtS_final_norms <- merge.data.frame(dgtS_appropriateness_sum, dgtS_norms_var, by = "donation") %>%
subset.data.frame(subset = ..x == max(..x)) %>%
mutate(PaperID = "2020Bas115",
TreatmentCode = "1b",
Avg_NE = as.integer(donation)/12,
Var_NE = ..y,
Strength_NE = sort(dgtS_appropriateness_sum$., decreasing = T)[1]/sort(dgtS_appropriateness_sum$., decreasing = T)[2]) %>%
subset.data.frame(select = -c(..x, ..y, donation))
# 3. combine dataset ----
finaldf <- meta_dataset %>%
merge.data.frame(dgtS_dta_coop, by = c("PaperID","TreatmentCode")) %>%
merge.data.frame(dgtS_final_norms, all.x=T, by = c("PaperID","TreatmentCode")) %>%
rbind.data.frame(finaldf)
# DG Tax Private-----------------
# get information on treatment
# cleaning DG
## code :  subject code
## give_DG_tax: amount of money given to other in dg tax game
## social : treatment variable -> 1. social, 0. private
coldg = c("code","give_DG_tax","social")
# 1. Choice dataframe ----
dgtP_dta_coop <- dg %>% subset.data.frame(select = coldg, subset = social == 0) %>%
mutate(endowment = 12, cooperation = give_DG_tax/endowment) %>%
summarise(Avg_coop = mean(cooperation, na.rm =T),
Var_coop = var(cooperation, na.rm = T)) %>%
mutate(PaperID = "2020Bas115", TreatmentCode = "2b")
# 2. Beliefs dataframe ----
## KW: send from 0 to 10, step 1
## code
## social
## KW scale: 1: VI; 2: I; 3: RI; 4: RA; 5: A; 6: VA -> recoding done.
label_col = as.character(seq(0,12,1.5))
norms_columns <- c(1,2,54:62)
## compute norm
dgtP_appropriateness_sum <- norms %>% subset.data.frame(select = norms_columns) %>%
subset.data.frame(subset = social == 0) %>%
summarise_at(vars(DGT_SN_1:DGT_SN_9), sum, na.rm=T) %>%
t.data.frame() %>%
cbind.data.frame(donation=label_col)
## compute variance norm
dgtP_norms_var <- norms[, norms_columns] %>%
subset.data.frame(subset = social == 0) %>%
summarise_at(vars(DGT_SN_1:DGT_SN_9), var, na.rm=T) %>%
t.data.frame() %>%
cbind.data.frame(donation=label_col)
dgtP_final_norms <- merge.data.frame(dgtP_appropriateness_sum, dgtP_norms_var, by = "donation") %>%
subset.data.frame(subset = ..x == max(..x)) %>%
mutate(PaperID = "2020Bas115",
TreatmentCode = "2b",
Avg_NE = as.integer(donation)/12,
Var_NE = ..y,
Strength_NE = sort(dgtP_appropriateness_sum$., decreasing = T)[1]/sort(dgtP_appropriateness_sum$., decreasing = T)[2]) %>%
subset.data.frame(select = -c(..x, ..y, donation))
# 3. combine dataset ----
finaldf <- meta_dataset %>% merge.data.frame(dgtP_dta_coop, by = c("PaperID","TreatmentCode")) %>%
merge.data.frame(dgtP_final_norms, all.x=T, by = c("PaperID","TreatmentCode")) %>%
rbind.data.frame(finaldf)
# UG Social-----------------
# get information on treatment
# cleaning UG
## code :  subject code
## receive: amount of money given to other
## role_UG: which role subject was assigned in UG (1 = proposer, 2 = responder)
## social : treatment variable -> 1. social, 0. private
coldg = c("code","give_UG","social", "role_UG")
# 1. Choice dataframe ----
ugS_dta_coop <- dg %>% subset.data.frame(select = coldg, subset = social == 1) %>%
subset.data.frame(subset = role_UG == 1) %>%
mutate(endowment = 10, cooperation = give_UG/endowment) %>%
summarise(Avg_coop = mean(cooperation, na.rm =T),
Var_coop = var(cooperation, na.rm = T)) %>%
mutate(PaperID = "2020Bas115", TreatmentCode = "1c")
# 2. Beliefs dataframe ----
## KW: send from 0 to 10, step 1
## code
## social
## KW scale: 1: VI; 2: I; 3: RI; 4: RA; 5: A; 6: VA -> recoding done.
label_col = as.character(seq(0,10,1))
norms_columns <- c(1,2,63:73)
## compute norm
ugS_appropriateness_sum <- norms %>% subset.data.frame(select = norms_columns) %>%
subset.data.frame(subset = social == 1) %>%
summarise_at(vars(UG_SN_1:UG_SN_11), sum, na.rm=T) %>%
t.data.frame() %>%
cbind.data.frame(donation=label_col)
## compute variance norm
ugS_norms_var <- norms[, norms_columns] %>%
subset.data.frame(subset = social == 1) %>%
summarise_at(vars(UG_SN_1:UG_SN_11), var, na.rm=T) %>%
t.data.frame() %>%
cbind.data.frame(donation=label_col)
ugS_final_norms <- merge.data.frame(ugS_appropriateness_sum, ugS_norms_var, by = "donation") %>%
subset.data.frame(subset = ..x == max(..x)) %>%
mutate(PaperID = "2020Bas115",
TreatmentCode = "1c",
Avg_NE = as.integer(donation)/10,
Var_NE = ..y,
Strength_NE = sort(ugS_appropriateness_sum$., decreasing = T)[1]/sort(ugS_appropriateness_sum$., decreasing = T)[2]) %>%
subset.data.frame(select = -c(..x, ..y, donation))
# 3. combine dataset ----
finaldf <- meta_dataset %>%
merge.data.frame(ugS_dta_coop, by = c("PaperID","TreatmentCode")) %>%
merge.data.frame(ugS_final_norms, all.x=T, by = c("PaperID","TreatmentCode")) %>%
rbind.data.frame(finaldf)
# UG Private-----------------
# get information on treatment
# cleaning UG
## code :  subject code
## receive: amount of money given to other
## role_UG: which role subject was assigned in UG (1 = proposer, 2 = responder)
## social : treatment variable -> 1. social, 0. private
coldg = c("code","give_UG","social", "role_UG")
# 1. Choice dataframe ----
ugP_dta_coop <- dg %>% subset.data.frame(select = coldg, subset = social == 0) %>%
subset.data.frame(subset = role_UG == 1) %>%
mutate(endowment = 10, cooperation = give_UG/endowment) %>%
summarise(Avg_coop = mean(cooperation, na.rm =T),
Var_coop = var(cooperation, na.rm = T)) %>%
mutate(PaperID = "2020Bas115", TreatmentCode = "2c")
# 2. Beliefs dataframe ----
## KW: send from 0 to 10, step 1
## code
## social
## KW scale: 1: VI; 2: I; 3: RI; 4: RA; 5: A; 6: VA -> recoding done.
label_col = as.character(seq(0,10,1))
norms_columns <- c(1,2,63:73)
## compute norm
ugP_appropriateness_sum <- norms %>% subset.data.frame(select = norms_columns) %>%
subset.data.frame(subset = social == 0) %>%
summarise_at(vars(UG_SN_1:UG_SN_11), sum, na.rm=T) %>%
t.data.frame() %>%
cbind.data.frame(donation=label_col)
## compute variance norm
ugP_norms_var <- norms[, norms_columns] %>%
subset.data.frame(subset = social == 0) %>%
summarise_at(vars(UG_SN_1:UG_SN_11), var, na.rm=T) %>%
t.data.frame() %>%
cbind.data.frame(donation=label_col)
ugP_final_norms <- merge.data.frame(ugP_appropriateness_sum, ugP_norms_var, by = "donation") %>%
subset.data.frame(subset = ..x == max(..x)) %>%
mutate(PaperID = "2020Bas115",
TreatmentCode = "2c",
Avg_NE = as.integer(donation)/10,
Var_NE = ..y,
Strength_NE = sort(ugP_appropriateness_sum$., decreasing = T)[1]/sort(ugP_appropriateness_sum$., decreasing = T)[2]) %>%
subset.data.frame(select = -c(..x, ..y, donation))
# 3. combine dataset ----
finaldf <- meta_dataset %>%
merge.data.frame(ugP_dta_coop, by = c("PaperID","TreatmentCode")) %>%
merge.data.frame(ugP_final_norms, all.x=T, by = c("PaperID","TreatmentCode")) %>%
rbind.data.frame(finaldf) %>%
mutate(Avg_EE = NA, Avg_PNB = NA, Var_EE = NA, Var_PNB = NA)
write.csv(finaldf, file = paste(csv_path_output, paste(finaldf$PaperID[1], "_finaldf.csv", sep = ""), sep = ""), row.names = F)
View(finaldf)
View(dgtP_appropriateness_sum)
library(tidyverse)
library(readxl)
rm(list = ls())
# Run paper script
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2016Kim003.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2019Cha026.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Tho028.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2015Ves034.R")
#problema paper... forse la task iniziale influenza molto la norma... non Ã¨ 50% ma 83%
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Del037.R")
# i trattamenti sono diversi in base alla nazione... mancano i dati sulle norme
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2018Kim038.R")
# media norma 100%
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Ves049.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2019Tjo060.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2018Her061.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2019Dro082.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2020And089.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2020Bas115.R")
# mancano i dati di kw, da richiedere
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Sen116.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2021Kon127.R")
rm(list = ls())
# Create the master file -> merge all csv file
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_csv/")
Paper_003=read.csv("2016Kim003_finaldf.csv", sep=",")
master <- Paper_003
Paper_026=read.csv("2019Cha026_finaldf.csv", sep=",")
master <- Paper_026 %>%
rbind.data.frame(master)
Paper_028=read.csv("2017Tho028_finaldf.csv", sep=",")
master <- Paper_028 %>%
rbind.data.frame(master)
Paper_034=read.csv("2015Ves034_finaldf.csv", sep=",")
master <- Paper_034 %>%
rbind.data.frame(master)
Paper_037=read.csv("2017Del037_finaldf.csv", sep=",")
master <- Paper_037 %>%
rbind.data.frame(master)
Paper_038=read.csv("2018Kim038_finaldf.csv", sep=",")
master <- Paper_038 %>%
rbind.data.frame(master)
Paper_049=read.csv("2017Ves049_finaldf.csv", sep=",")
master <- Paper_049 %>%
rbind.data.frame(master)
Paper_060=read.csv("2019Tjo060_finaldf.csv", sep=",")
master <- Paper_060 %>%
rbind.data.frame(master)
Paper_061=read.csv("2018Her061_finaldf.csv", sep=",")
master <- Paper_061 %>%
rbind.data.frame(master)
Paper_082=read.csv("2019Dro082_finaldf.csv", sep=",")
master <- Paper_082 %>%
rbind.data.frame(master)
Paper_089=read.csv("2020And089_finaldf.csv", sep=",")
master <- Paper_089 %>%
rbind.data.frame(master)
Paper_115=read.csv("2020Bas115_finaldf.csv", sep=",")
master <- Paper_115 %>%
rbind.data.frame(master)
Paper_116=read.csv("2017Sen116_finaldf.csv", sep=",")
master <- Paper_116 %>%
rbind.data.frame(master)
Paper_127=read.csv("2021Kon127_finaldf.csv", sep=",")
master <- Paper_127 %>%
rbind.data.frame(master)
# save master file as csv
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_csv/")
write.csv(master, file = "Master.csv", row.names = F)
master_individual <- master %>%
subset.data.frame(subset = Game_type =="DG") %>%
subset.data.frame(subset = Avg_coop > -1) %>%
subset.data.frame(subset = Avg_NE > -1)
View(master)
library(tidyverse)
library(readxl)
rm(list = ls())
# Run paper script
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2016Kim003.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2019Cha026.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Tho028.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2015Ves034.R")
#problema paper... forse la task iniziale influenza molto la norma... non Ã¨ 50% ma 83%
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Del037.R")
# i trattamenti sono diversi in base alla nazione... mancano i dati sulle norme
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2018Kim038.R")
# media norma 100%
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Ves049.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2019Tjo060.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2018Her061.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2019Dro082.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2020And089.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2020Bas115.R")
# mancano i dati di kw, da richiedere
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Sen116.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2021Kon127.R")
rm(list = ls())
# Create the master file -> merge all csv file
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_csv/")
Paper_003=read.csv("2016Kim003_finaldf.csv", sep=",")
master <- Paper_003
Paper_026=read.csv("2019Cha026_finaldf.csv", sep=",")
master <- Paper_026 %>%
rbind.data.frame(master)
Paper_028=read.csv("2017Tho028_finaldf.csv", sep=",")
master <- Paper_028 %>%
rbind.data.frame(master)
Paper_034=read.csv("2015Ves034_finaldf.csv", sep=",")
master <- Paper_034 %>%
rbind.data.frame(master)
Paper_037=read.csv("2017Del037_finaldf.csv", sep=",")
master <- Paper_037 %>%
rbind.data.frame(master)
Paper_038=read.csv("2018Kim038_finaldf.csv", sep=",")
master <- Paper_038 %>%
rbind.data.frame(master)
Paper_049=read.csv("2017Ves049_finaldf.csv", sep=",")
master <- Paper_049 %>%
rbind.data.frame(master)
Paper_060=read.csv("2019Tjo060_finaldf.csv", sep=",")
master <- Paper_060 %>%
rbind.data.frame(master)
Paper_061=read.csv("2018Her061_finaldf.csv", sep=",")
master <- Paper_061 %>%
rbind.data.frame(master)
Paper_082=read.csv("2019Dro082_finaldf.csv", sep=",")
master <- Paper_082 %>%
rbind.data.frame(master)
Paper_089=read.csv("2020And089_finaldf.csv", sep=",")
master <- Paper_089 %>%
rbind.data.frame(master)
Paper_115=read.csv("2020Bas115_finaldf.csv", sep=",")
master <- Paper_115 %>%
rbind.data.frame(master)
Paper_116=read.csv("2017Sen116_finaldf.csv", sep=",")
master <- Paper_116 %>%
rbind.data.frame(master)
Paper_127=read.csv("2021Kon127_finaldf.csv", sep=",")
master <- Paper_127 %>%
rbind.data.frame(master)
# save master file as csv
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_csv/")
write.csv(master, file = "Master.csv", row.names = F)
master_individual <- master %>%
subset.data.frame(subset = Game_type =="DG") %>%
subset.data.frame(subset = Avg_coop > -1) %>%
subset.data.frame(subset = Avg_NE > -1)
library(tidyverse)
library(readxl)
rm(list = ls())
# Run paper script
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2016Kim003.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2019Cha026.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Tho028.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2015Ves034.R")
#problema paper... forse la task iniziale influenza molto la norma... non Ã¨ 50% ma 83%
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Del037.R")
# i trattamenti sono diversi in base alla nazione... mancano i dati sulle norme
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2018Kim038.R")
# media norma 100%
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Ves049.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2019Tjo060.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2018Her061.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2019Dro082.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2020And089.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2020Bas115.R")
# mancano i dati di kw, da richiedere
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2017Sen116.R")
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_script/")
source("2021Kon127.R")
rm(list = ls())
# Create the master file -> merge all csv file
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_csv/")
Paper_003=read.csv("2016Kim003_finaldf.csv", sep=",")
master <- Paper_003
Paper_026=read.csv("2019Cha026_finaldf.csv", sep=",")
master <- Paper_026 %>%
rbind.data.frame(master)
Paper_028=read.csv("2017Tho028_finaldf.csv", sep=",")
master <- Paper_028 %>%
rbind.data.frame(master)
Paper_034=read.csv("2015Ves034_finaldf.csv", sep=",")
master <- Paper_034 %>%
rbind.data.frame(master)
Paper_037=read.csv("2017Del037_finaldf.csv", sep=",")
master <- Paper_037 %>%
rbind.data.frame(master)
Paper_038=read.csv("2018Kim038_finaldf.csv", sep=",")
master <- Paper_038 %>%
rbind.data.frame(master)
Paper_049=read.csv("2017Ves049_finaldf.csv", sep=",")
master <- Paper_049 %>%
rbind.data.frame(master)
Paper_060=read.csv("2019Tjo060_finaldf.csv", sep=",")
master <- Paper_060 %>%
rbind.data.frame(master)
Paper_061=read.csv("2018Her061_finaldf.csv", sep=",")
master <- Paper_061 %>%
rbind.data.frame(master)
Paper_082=read.csv("2019Dro082_finaldf.csv", sep=",")
master <- Paper_082 %>%
rbind.data.frame(master)
Paper_089=read.csv("2020And089_finaldf.csv", sep=",")
master <- Paper_089 %>%
rbind.data.frame(master)
Paper_115=read.csv("2020Bas115_finaldf.csv", sep=",")
master <- Paper_115 %>%
rbind.data.frame(master)
Paper_116=read.csv("2017Sen116_finaldf.csv", sep=",")
master <- Paper_116 %>%
rbind.data.frame(master)
Paper_127=read.csv("2021Kon127_finaldf.csv", sep=",")
master <- Paper_127 %>%
rbind.data.frame(master)
# save master file as csv
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/Paper_csv/")
write.csv(master, file = "Master.csv", row.names = F)
master_individual <- master %>%
subset.data.frame(subset = Game_type =="DG") %>%
subset.data.frame(subset = Avg_coop > -1) %>%
subset.data.frame(subset = Avg_NE > -1)
library(ggplot2)
library(tidyverse)
library(mclogit)
library(sjmisc)
library(ggrepel)
library(sjPlot)
setwd("C:/Users/stefa/Documents/CNR/GitHub/Social_norm_meta_analysis/")
# read data
master <- read.csv("Paper_csv/Master.csv")
DG <- master %>% subset.data.frame(Game_type=="DG")
DG_UG <- master %>% subset.data.frame(Game_type=="DG"|Game_type=="UG")
UG <- master %>% subset.data.frame(Game_type=="UG")
# H1 : correlation between average cooperation and norm (NE)
cor.test(master$Avg_coop, master$Avg_NE, method= "spearman", exact = F)
ggplot(data=master, aes(x=Avg_NE, y=Avg_coop)) + geom_point() + geom_smooth(method = "lm") + geom_text(aes(label=PaperID)) + ggtitle("H1 : correlation between average cooperation and norm (NE)")
# H2a : correlation between average cooperation and norm (NE)
cor.test(master$Avg_coop, master$Strength_NE, method= "spearman", exact = F)
ggplot(data=master, aes(x=Strength_NE, y=Avg_coop, color=Game_type)) + geom_point() + geom_smooth() + geom_text(aes(label=PaperID)) + ggtitle("H2a : correlation between average cooperation and norm (NE)")
# H2b : correlation between variance cooperation and norm (NE)
cor.test(master$Var_coop, master$Strength_NE, method= "spearman", exact = F)
ggplot(data=master, aes(x=Strength_NE, y=Var_coop, color=Game_type)) + geom_point() + geom_smooth() + geom_text(aes(label=PaperID)) + ggtitle("H2b : correlation between variance cooperation and norm (NE)")
#H3
cor.test(master$Avg_coop, master$norm_str, method= "spearman", exact = F)
ggplot(data=master, aes(x=norm_str, y=Avg_coop)) + geom_point() + geom_smooth(method = "lm") + geom_text(aes(label=PaperID)) + ggtitle("H3")
# H1
cor.test(DG$Avg_coop, DG$Avg_NE, method= "spearman", exact = F)
ggplot(data=DG, aes(x=Avg_NE, y=Avg_coop)) + geom_point() + geom_smooth(method = "lm") + geom_text(aes(label=PaperID)) + ggtitle("H1 : correlation between average cooperation and norm (NE) \n DG only")
# H2a : correlation between average cooperation and norm (NE)
cor.test(DG$Avg_coop, DG$Strength_NE, method= "spearman", exact = F)
ggplot(data=DG, aes(x=Strength_NE, y=Avg_coop)) + geom_point() + geom_smooth() + geom_text(aes(label=PaperID)) + ggtitle("H2a : correlation between average cooperation and norm (NE) \n DG only")
# H2b : correlation between variance cooperation and norm (NE)
cor.test(DG$Var_coop, DG$Strength_NE, method= "spearman", exact = F)
ggplot(data=DG, aes(x=Strength_NE, y=Var_coop, color=Game_type)) + geom_point() + geom_smooth() + geom_text(aes(label=PaperID)) + ggtitle("H2b : correlation between variance cooperation and norm (NE) \n DG only")
#H3
cor.test(DG$Avg_coop, DG$Strength_NE, method= "spearman", exact = F)
ggplot(data=DG, aes(x=Strength_NE, y=Avg_coop)) + geom_point() + geom_smooth(method = "lm") + geom_text(aes(label=PaperID)) + ggtitle("H3 \n DG only")
# H2a : correlation between average cooperation and norm (NE)
cor.test(DG$Avg_coop, DG$Strength_NE, method= "spearman", exact = F)
ggplot(data=DG, aes(x=Strength_NE, y=Avg_coop)) + geom_point() + geom_smooth() + geom_text(aes(label=PaperID)) + ggtitle("H2a : correlation between average cooperation and norm (NE) \n DG only")
# H2a : correlation between average cooperation and norm (NE)
cor.test(master$Avg_coop, master$Strength_NE, method= "spearman", exact = F)
ggplot(data=master, aes(x=Strength_NE, y=Avg_coop, color=Game_type)) + geom_point() + geom_smooth() + geom_text(aes(label=PaperID)) + ggtitle("H2a : correlation between average cooperation and norm (NE)")
